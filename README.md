# chat-evil
ChatGPTのAPIチャットのベースになりそうなものです。動作にはOpenAIのAPIキーが必要です。  
セットアップについては [setup.md](setup.md) を参照してください。

## チャットの入力
画面下部のテキストエリアにチャットを入力し、「Submit」ボタンを押すか、Ctrl+Enterでチャットを送信します。  

## VOICEVOXを使ってChatGPTを音声で聞く
画面上部のAudioトグルをオンにすることで、VOICEVOXの音声でChatGPTのチャットを読み上げます。  
この機能を利用するにはVOICEVOXサーバーへのアクセスが可能である必要があります。  

現在、新しい返信のVoiceが上手く切り替わらず、過去のVoiceを繰り返す不具合があります。それを途中で切るにはトグルをいったんオフにします。  

## 音声入力
画面上部の「voice REC」ボタンを押し続けながらしゃべることで、音声によるチャット入力が可能です。  
ボタン名に「REC」とありますが、音声はブラウザで処理されるだけで本サーバーには保存されません（ブラウザを提供している会社のサーバーには送られ、処理されます）。  

## チャットの履歴について
ChatGPTに履歴を持たせるアイディアとして、チャット中にそれまでの全体の会話について要約をしてもらい、それをシステムプロンプトに含める、ということを実装しています。  
APIではこの処理を任意のチャットのタイミングでバックエンドで行うことにより、利用者が意識することなく延々とチャットを楽しめるようにしてみたいと思っています。  

## 基本機能
* ログイン（/login）／ログアウト（/logout）
* ユーザ追加（/register_user）
* ユーザ追加用コード作成（/registration_code）、一覧表示（/registration_code_list）
* チャット画面（/）およびチャット（/chat へのajax）
* チャット一覧（/chat/list）
* モデレーション（/moderation）
